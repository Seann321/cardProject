<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Garbage</title>
</head>
<body>
    <script>
        let playerHandArray = convertStringToArray("{{playerHand}}");
        let i = 0
        playerHandArray.forEach((element) => {
          let cardDiv = document.createElement("div");
          document.body.appendChild(cardDiv);
          cardDiv.innerHTML =
            '<div class=playingCard onclick="cardClicked(' + i + ')">  <div class="top">' +
            element.charAt(0) +
            '</div><div class = "text">' +
            element.substring(1) +
            '</div> <div class = "bottom">' +
            element.charAt(0) +
            "</div></div>";
          i++
        });
        async function cardClicked(cardData) { // This grabs the array from main.py when a card is clicked
            let obj
            let newPlayerHand
            const res = fetch(`/garbageCardData/${JSON.stringify(cardData)}`);
            obj = (await res).json();
            await obj.then(data => newPlayerHand = data.valueOf()) //Dont remove console.log
            console.log(newPlayerHand);
        }
        function convertStringToArray(inputString){
            inputString = inputString.replaceAll("&#39;", "");
            inputString = inputString.replaceAll("[", "");
            inputString = inputString.replaceAll("]", "");
            inputString = inputString.replaceAll(" ", "");
            inputString = inputString.split(',')
            return inputString;
        }
    </script>
    <a href="/return/">Return to home</a>
    <a href="/garbageReset/">Reset</a>
</body>
</html>